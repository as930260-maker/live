:root{
  --bg:#eef2f5;
  --card:#fff;
  --text:#222;
  --muted:#666;
  --line:#e8eef5;
  --primary:#667eea;
  --primary2:#764ba2;
  --danger:#e85d5d;
}

*{ box-sizing:border-box; }
body{
  margin:0;
  font-family: system-ui, -apple-system, "Segoe UI", "Noto Sans TC", sans-serif;
  background: var(--bg);
  color: var(--text);
}

.hidden{ display:none; }

.page{ padding:20px; }
.page-center{
  min-height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
}

.card{
  background: var(--card);
  border: 1px solid var(--line);
  border-radius: 16px;
  padding: 18px;
  box-shadow: 0 10px 30px rgba(0,0,0,.06);
}

.start-card{
  width:100%;
  max-width:420px;
  text-align:center;
}
.start-card h1{ margin:0; }
.subtitle{ color:var(--muted); margin:6px 0 16px; }

.input-group{ text-align:left; margin: 12px 0; }
.input-group label{ display:block; font-weight:700; margin-bottom:6px; color:#333; }
.input-group input[type="text"]{
  width:100%;
  padding:12px;
  border-radius:12px;
  border:2px solid var(--line);
  outline:none;
}
.input-group input[type="text"]:focus{ border-color: var(--primary); }

.gender-select{
  display:flex;
  gap:10px;
}
.gender-select input[type="radio"]{
  position:absolute;
  opacity:0;
  width:1px;
  height:1px;
}
.g-btn{
  flex:1;
  padding:12px;
  border-radius:12px;
  border:2px solid var(--line);
  text-align:center;
  cursor:pointer;
  user-select:none;
  font-weight:700;
  color:var(--muted);
}
#g-female:checked + .g-btn{ border-color:#ff9a9e; background:#fff0f1; color:#ff5e62; }
#g-male:checked + .g-btn{ border-color:#4facfe; background:#eaf6ff; color:#007bff; }
#g-other:checked + .g-btn{ border-color:#8fd3f4; background:#eef9ff; color:#0b6b8a; }

.btn{
  border:1px solid var(--line);
  background:#fff;
  padding:12px 14px;
  border-radius:12px;
  cursor:pointer;
  font-weight:700;
}
.btn:hover{ filter:brightness(.98); }
.btn.primary{
  color:#fff;
  border:none;
  background: linear-gradient(90deg, var(--primary), var(--primary2));
}
.btn.danger{
  color:#fff;
  border:none;
  background: var(--danger);
}
.btn.small{ padding:8px 10px; border-radius:10px; font-size: 13px; }

.row{ display:flex; }
.gap{ gap:10px; }
.mt{ margin-top:14px; }
.hint{ color:var(--muted); font-size:13px; line-height:1.45; }

.topbar{
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:14px 16px;
}
.topbar-left{ display:flex; align-items:center; gap:10px; }
.pill{
  font-size:13px;
  color:var(--muted);
  border:1px solid var(--line);
  background:#fff;
  padding:6px 10px;
  border-radius:999px;
}

.layout{
  display:grid;
  gap:14px;
  grid-template-columns: 1fr 1.2fr 1fr;
  align-items:start;
}

@media (max-width: 1100px){
  .layout{ grid-template-columns: 1fr; }
}

.kv{
  display:grid;
  grid-template-columns: 110px 1fr;
  gap:10px 12px;
  margin-top:10px;
}
.k{ color:var(--muted); font-weight:700; }
.v{ color:#111; }

.stats{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap:10px;
  margin-top:10px;
}
.stat{
  border:1px solid var(--line);
  border-radius:14px;
  padding:12px;
}
.stat .label{ color:var(--muted); font-weight:800; font-size:13px; }
.stat .value{ font-size:18px; font-weight:900; margin-top:4px; }

.actions{
  display:grid;
  grid-template-columns: 1fr 1fr 1fr;
  gap:10px;
  margin-top:10px;
}
.actions .action{ padding:12px; }

.log{
  height: 520px;
  overflow:auto;
  border:1px solid var(--line);
  border-radius:14px;
  padding:12px;
  background:#fbfdff;
  font-size: 13px;
  line-height:1.45;
}
.log .item{ margin-bottom:10px; }
.log .meta{ color:var(--muted); font-size:12px; margin-bottom:4px; }

.dialog{
  border:none;
  border-radius:16px;
  width:min(560px, 92vw);
  padding:0;
}
.dialog::backdrop{ background: rgba(0,0,0,.35); }
.dialog-body{ padding:16px; }
.gm-input{
  width:100%;
  padding:12px;
  border-radius:12px;
  border:2px solid var(--line);
  outline:none;
}
.gm-input:focus{ border-color: var(--primary); }
code{
  background:#f2f6ff;
  border:1px solid #dfe9ff;
  padding:2px 6px;
  border-radius:8px;
}
